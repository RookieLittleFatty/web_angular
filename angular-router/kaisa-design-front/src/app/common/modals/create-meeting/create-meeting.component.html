<div class="modal-header">
  <h4 class="modal-title">发起会议</h4>
  <button type="button" class="close f-r" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div>
    <div class="modal-section">会议信息</div>
    <div class="mt20 hot-box">
      <label class="absolute-label">选择项目：</label>
      <div>
        <input class="search-input width-100" type="text" name="porjectInput">
      </div>
    </div>
    <div class="mt20 hot-box">
      <label class="absolute-label">选择参会人：</label>
      <div>
        <input class="search-input width-100" type="text" name="membersInput">
      </div>
    </div>
    <div class="mt20 hot-box">
      <label class="absolute-label">会议议题：</label>
      <div>
        <input class="search-input width-100" type="text" name="topicInput">
      </div>
    </div>
    <div class="mt20 hot-box">
      <label class="absolute-label">会议时间：</label>
      <div>
        <input class="search-input" type="text"  bsDatepicker   [minDate]="minDate" [maxDate]="maxDate" [bsConfig]="{ dateInputFormat: 'YYYY/MM/DD h:mm:ss a', containerClass: 'theme-orange'}">
        <span class="greyLine"></span>
        <input class="search-input" type="text" name="endInput" bsDatepicker   [minDate]="minDate" [maxDate]="maxDate" [bsConfig]="{ dateInputFormat: 'YYYY/MM/DD h:mm:ss a', containerClass: 'theme-orange' }">
      </div>
    </div>
    <div class="mt20 hot-box">
      <label class="absolute-label">会议地点：</label>
      <div>
        <input class="search-input width-100" type="text" name="startInput">
      </div>
    </div>
  </div>
  <div>
    <div class="modal-section">解决事项</div>
    <div class="text-right">
      <button type="button" class="zjy-btn zjy-btn-oranger" (click)="addTask()">添加</button>
    </div>
    <div class="mt10">
      <table class="reportListTable">
        <colgroup>
          <col width="23%" />
          <col width="23%" />
          <col width="23%" />
          <col width="31%" />
        </colgroup>
        <tr>
          <th>任务描述</th>
          <th>任务类别</th>
          <th>专业</th>
          <th>操作</th>
        </tr>
        <tr *ngFor="let task of taskList; let i = index;">
          <td>
            <input type="text" class="width-100" name="descInput_{{i}}" [(ngModel)]="task.desc" [ngClass]="{'readonly': !task.isEdit}" [readonly]="!task.isEdit">
          </td>
          <td><input type="text" class="width-100" name="typeInput_{{i}}" [(ngModel)]="task.type" [ngClass]="{'readonly': !task.isEdit}" [readonly]="!task.isEdit"></td>
          <td><input type="text" class="width-100" name="majorInput_{{i}}" [(ngModel)]="task.major" [ngClass]="{'readonly': !task.isEdit}" [readonly]="!task.isEdit"></td>
          <td>
            <div>
              <a href="javascript:;" *ngIf="task.isEdit" (click)="saveTask(false, task)">保存</a>
              <a href="javascript:;" *ngIf="!task.isEdit" (click)="editTask(task)">编辑</a>
              <a href="javascript:;" class="ml20" (click)="deleteTask(i)">删除</a>
            </div>
          </td>
        </tr>
        <tr *ngIf="addNewFlag">
          <td>
            <input type="text" class="width-100" name="descNewInput" [(ngModel)]="newTask.desc">
          </td>
          <td><input type="text" class="width-100" name="typeNewInput" [(ngModel)]="newTask.type"></td>
          <td><input type="text" class="width-100" name="majorNewInput" [(ngModel)]="newTask.major"></td>
          <td>
            <div>
              <a href="javascript:;" (click)="saveTask(true)">保存</a>
              <a href="javascript:;" class="ml20" (click)="cancelAdd()">取消</a>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
<div class="modal-footer">
  <div class="text-center mt10">
    <button type="button" class="zjy-btn zjy-btn-oranger">确认</button>
    <button type="button" class="zjy-btn ml20" (click)="bsModalRef.hide()">取消</button>
  </div>
</div>
